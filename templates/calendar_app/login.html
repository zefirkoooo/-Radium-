{% extends 'calendar_app/base.html' %}
{% load static %}

{% block nav_buttons %}{% endblock %}

{% block extra_css %}
<link href="{% static 'css/login.css' %}" rel="stylesheet">
{% endblock %}

{% block content %}
<div class="login-container">
    <div class="card">
        <h2 class="form-title">Вход в систему</h2>

        {% if messages %}
        <ul class="messages">
            {% for message in messages %}
            <li class="{{ message.tags }}">{{ message }}</li>
            {% endfor %}
        </ul>
        {% endif %}

        <form method="post" class="login-form">
            {% csrf_token %}
            <div class="form-group">
                <label for="username">Имя пользователя</label>
                <input type="text" name="username" id="username" class="form-control" required>
            </div>
            <div class="form-group">
                <label for="password">Пароль</label>
                <input type="password" name="password" id="password" class="form-control" required>
            </div>
            <button type="submit" class="btn btn-primary">Войти</button>
        </form>

        <!-- Разделитель -->
        <div class="divider">
            <span>Или</span>
        </div>

        <!-- Поисковая строка -->
        <div class="search-section">
            <h3 class="search-title">Посмотреть календарь питания</h3>
            <div class="search-form">
                <div class="search-input-group">
                    <div class="search-input-wrapper">
                        <input type="text"
                               id="user-search"
                               class="search-input"
                               placeholder="Введите имя пользователя..."
                               autocomplete="off">
                        <div id="search-suggestions" class="search-suggestions"></div>
                    </div>
                    <button type="button" id="search-btn" class="search-button">
                        <i class="fas fa-search"></i>
                        Найти
                    </button>
                </div>
            </div>

            <!-- Результаты поиска -->
            <div id="search-results" class="search-results" style="display: none;">
                <div class="results-header">
                    <h4 id="results-username"></h4>
                    <button type="button" id="close-results" class="close-button">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div id="results-content" class="results-content">
                    <!-- Здесь будет отображаться календарь -->
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/login.js' %}"></script>
{% endblock %}